{
  "image": {
    "href": "https://s3.amazonaws.com/vmw-mf-assets/connector-images/hub-servicenow.png"
  },
  "object_types": {
    "card": {
      "doc": {
        "href": "https://github.com/vmware-samples/card-connectors-guide/wiki/Card-Responses"
      },
      "fields": {
        "ticket_id": {
          "capture_group": 1,
          "regex": "\\b(REQ[0-9]{7})\\b"
        },
        "email": {
          "env": "USER_EMAIL"
        }
      },
      "endpoint": {
        "href": "${CONNECTOR_HOST}/cards/requests"
      }
    },
    "catalog": {
      "fields": {
        "type": {
          "env": "ITEM_TYPE"
        },
        "catalog": {
          "env": "CATALOG_NAME"
        },
        "category": {
          "env": "CATEGORY_NAME"
        },
        "context_id": {
          "env": "CONTEXT_ID",
          "required": false
        }
      },
      "endpoint": {
        "href": "${CONNECTOR_HOST}/api/v1/catalog-items"
      },
      "metadata": {
        "workflow_id": "ViewItem"
      }
    },
    "task": {
      "fields": {
        "type": {
          "env": "TASK_TYPE",
          "required": false
        },
        "number": {
          "env": "TASK_NUMBER",
          "required": false
        },
        "context_id": {
          "env": "CONTEXT_ID",
          "required": false
        }
      },
      "endpoint": {
        "href": "${CONNECTOR_HOST}/api/v1/tasks"
      },
      "metadata": {
        "workflow_id": "ViewTask"
      }
    },
    "cart": {
      "fields": {
        "context_id": {
          "env": "CONTEXT_ID",
          "required": false
        }
      },
      "endpoint": {
        "href": "${CONNECTOR_HOST}/api/v1/cart"
      },
      "metadata": {
        "workflow_id": "ViewCart"
      }
    }
  },
  "actions": {
    "create_task": {
      "url": {
        "href": "${CONNECTOR_HOST}/api/v1/task/create"
      },
      "user_input": [],
      "request": {
        "type": {
          "env": "TASK_TYPE"
        },
        "short_description": {
          "env": "TASK_SHORT_DESCRIPTION"
        }
      },
      "label": "Create Task",
      "type": "POST",
      "action_key": "USER_INPUT",
      "metadata": {
        "workflow_id": "CreateTask"
      }
    }
  }
}